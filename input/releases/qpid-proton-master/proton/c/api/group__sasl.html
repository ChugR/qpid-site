<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Qpid Proton C API: SASL</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qpid Proton C API
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__sasl.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SASL<div class="ingroups"><a class="el" href="group__engine.html">Engine</a> &raquo; <a class="el" href="group__transport.html">Transport</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga4d21fddba80d3f88d0529aafe12328b0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4d21fddba80d3f88d0529aafe12328b0"></a>
typedef struct pn_sasl_t&#160;</td><td class="memItemRight" valign="bottom"><b>pn_sasl_t</b></td></tr>
<tr class="separator:ga4d21fddba80d3f88d0529aafe12328b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad44e79f52e0669b1930689b56dfa9c3b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#gad44e79f52e0669b1930689b56dfa9c3b">pn_sasl_outcome_t</a> { <br />
&#160;&#160;<b>PN_SASL_NONE</b> =-1, 
<a class="el" href="group__sasl.html#ggad44e79f52e0669b1930689b56dfa9c3ba0050b91650a3826a090e13f57b3b941e">PN_SASL_OK</a> =0, 
<a class="el" href="group__sasl.html#ggad44e79f52e0669b1930689b56dfa9c3bac63734ecde7c8170554f6bf04f6ce64a">PN_SASL_AUTH</a> =1, 
<a class="el" href="group__sasl.html#ggad44e79f52e0669b1930689b56dfa9c3bacd46a2fda23f674c23ed81e6076c1939">PN_SASL_SYS</a> =2, 
<br />
&#160;&#160;<a class="el" href="group__sasl.html#ggad44e79f52e0669b1930689b56dfa9c3ba03019f909ba1d98aae94437ca4bd0191">PN_SASL_PERM</a> =3, 
<a class="el" href="group__sasl.html#ggad44e79f52e0669b1930689b56dfa9c3baee28d2c03fa80dccf771e37aae1bcdf3">PN_SASL_TEMP</a> =4
<br />
 }<tr class="separator:gad44e79f52e0669b1930689b56dfa9c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga473c3092ebf00792106cdc741d0b14ac"><td class="memItemLeft" align="right" valign="top">PN_EXTERN pn_sasl_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#ga473c3092ebf00792106cdc741d0b14ac">pn_sasl</a> (<a class="el" href="group__transport.html#gac26eda05f649bbf0399f3d8d78d12fa8">pn_transport_t</a> *transport)</td></tr>
<tr class="separator:ga473c3092ebf00792106cdc741d0b14ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ab2ab1ca7ed8a476fbf01e742425f3d"><td class="memItemLeft" align="right" valign="top">PN_EXTERN bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#ga8ab2ab1ca7ed8a476fbf01e742425f3d">pn_sasl_extended</a> (void)</td></tr>
<tr class="separator:ga8ab2ab1ca7ed8a476fbf01e742425f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecd3b1f55fc81c6586bc435772f829d3"><td class="memItemLeft" align="right" valign="top">PN_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#gaecd3b1f55fc81c6586bc435772f829d3">pn_sasl_done</a> (pn_sasl_t *sasl, <a class="el" href="group__sasl.html#gad44e79f52e0669b1930689b56dfa9c3b">pn_sasl_outcome_t</a> outcome)</td></tr>
<tr class="separator:gaecd3b1f55fc81c6586bc435772f829d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec4ace7d77037c60f1df02f2bb0be0f8"><td class="memItemLeft" align="right" valign="top">PN_EXTERN <a class="el" href="group__sasl.html#gad44e79f52e0669b1930689b56dfa9c3b">pn_sasl_outcome_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#gaec4ace7d77037c60f1df02f2bb0be0f8">pn_sasl_outcome</a> (pn_sasl_t *sasl)</td></tr>
<tr class="separator:gaec4ace7d77037c60f1df02f2bb0be0f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafff63feb3a2eccd74f7b472ee235a886"><td class="memItemLeft" align="right" valign="top">PN_EXTERN const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#gafff63feb3a2eccd74f7b472ee235a886">pn_sasl_get_user</a> (pn_sasl_t *sasl)</td></tr>
<tr class="separator:gafff63feb3a2eccd74f7b472ee235a886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77adf112018a4b457df4abbf5b31873b"><td class="memItemLeft" align="right" valign="top">PN_EXTERN const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#ga77adf112018a4b457df4abbf5b31873b">pn_sasl_get_mech</a> (pn_sasl_t *sasl)</td></tr>
<tr class="separator:ga77adf112018a4b457df4abbf5b31873b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdc9d99d6717e74fa5df4de1515644db"><td class="memItemLeft" align="right" valign="top">PN_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#gacdc9d99d6717e74fa5df4de1515644db">pn_sasl_allowed_mechs</a> (pn_sasl_t *sasl, const char *mechs)</td></tr>
<tr class="separator:gacdc9d99d6717e74fa5df4de1515644db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga841eea7a3e34539aa6176ebc055cdc16"><td class="memItemLeft" align="right" valign="top">PN_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#ga841eea7a3e34539aa6176ebc055cdc16">pn_sasl_set_allow_insecure_mechs</a> (pn_sasl_t *sasl, bool insecure)</td></tr>
<tr class="separator:ga841eea7a3e34539aa6176ebc055cdc16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f18db720611136dd7d6798b8bfbc94c"><td class="memItemLeft" align="right" valign="top">PN_EXTERN bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#ga4f18db720611136dd7d6798b8bfbc94c">pn_sasl_get_allow_insecure_mechs</a> (pn_sasl_t *sasl)</td></tr>
<tr class="separator:ga4f18db720611136dd7d6798b8bfbc94c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4ef8946525b044cc2d84ff801e1ae20"><td class="memItemLeft" align="right" valign="top">PN_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#gae4ef8946525b044cc2d84ff801e1ae20">pn_sasl_config_name</a> (pn_sasl_t *sasl, const char *name)</td></tr>
<tr class="separator:gae4ef8946525b044cc2d84ff801e1ae20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8aa6f7e87a9eabf2d4ad8533fd7a4d3c"><td class="memItemLeft" align="right" valign="top">PN_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sasl.html#ga8aa6f7e87a9eabf2d4ad8533fd7a4d3c">pn_sasl_config_path</a> (pn_sasl_t *sasl, const char *path)</td></tr>
<tr class="separator:ga8aa6f7e87a9eabf2d4ad8533fd7a4d3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gad44e79f52e0669b1930689b56dfa9c3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__sasl.html#gad44e79f52e0669b1930689b56dfa9c3b">pn_sasl_outcome_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The result of the SASL negotiation </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggad44e79f52e0669b1930689b56dfa9c3ba0050b91650a3826a090e13f57b3b941e"></a>PN_SASL_OK&#160;</td><td class="fielddoc">
<p>negotiation not completed </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad44e79f52e0669b1930689b56dfa9c3bac63734ecde7c8170554f6bf04f6ce64a"></a>PN_SASL_AUTH&#160;</td><td class="fielddoc">
<p>authentication succeeded </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad44e79f52e0669b1930689b56dfa9c3bacd46a2fda23f674c23ed81e6076c1939"></a>PN_SASL_SYS&#160;</td><td class="fielddoc">
<p>failed due to bad credentials </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad44e79f52e0669b1930689b56dfa9c3ba03019f909ba1d98aae94437ca4bd0191"></a>PN_SASL_PERM&#160;</td><td class="fielddoc">
<p>failed due to a system error </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad44e79f52e0669b1930689b56dfa9c3baee28d2c03fa80dccf771e37aae1bcdf3"></a>PN_SASL_TEMP&#160;</td><td class="fielddoc">
<p>failed due to unrecoverable error </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga473c3092ebf00792106cdc741d0b14ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN pn_sasl_t* pn_sasl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__transport.html#gac26eda05f649bbf0399f3d8d78d12fa8">pn_transport_t</a> *&#160;</td>
          <td class="paramname"><em>transport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct an Authentication and Security Layer object</p>
<p>This will return the SASL layer object for the supplied transport object. If there is currently no SASL layer one will be created.</p>
<p>On the client side of an AMQP connection this will have the effect of ensuring that the AMQP SASL layer is used for that connection.</p>
<dl class="section return"><dt>Returns</dt><dd>an object representing the SASL layer. </dd></dl>

</div>
</div>
<a class="anchor" id="gacdc9d99d6717e74fa5df4de1515644db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN void pn_sasl_allowed_mechs </td>
          <td>(</td>
          <td class="paramtype">pn_sasl_t *&#160;</td>
          <td class="paramname"><em>sasl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mechs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SASL mechanisms that are to be considered for authentication</p>
<p>This can be used on either the client or the server to restrict the SASL mechanisms that may be used to the mechanisms on the list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sasl</td><td>the SASL layer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mechs</td><td>space separated list of mechanisms that are allowed for authentication </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae4ef8946525b044cc2d84ff801e1ae20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN void pn_sasl_config_name </td>
          <td>(</td>
          <td class="paramtype">pn_sasl_t *&#160;</td>
          <td class="paramname"><em>sasl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the sasl configuration name</p>
<p>This is used to construct the SASL configuration filename. In the current implementation it ".conf" is added to the name and the file is looked for in the configuration directory.</p>
<p>If not set it will default to "proton-server" for a sasl server and "proton-client" for a client.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sasl</td><td>the SASL layer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>the configuration name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8aa6f7e87a9eabf2d4ad8533fd7a4d3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN void pn_sasl_config_path </td>
          <td>(</td>
          <td class="paramtype">pn_sasl_t *&#160;</td>
          <td class="paramname"><em>sasl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the sasl configuration path</p>
<p>This is used to tell SASL where to look for the configuration file. In the current implementation it can be a colon separated list of directories.</p>
<p>The environment variable PN_SASL_CONFIG_PATH can also be used to set this path, but if both methods are used then this <a class="el" href="group__sasl.html#ga8aa6f7e87a9eabf2d4ad8533fd7a4d3c">pn_sasl_config_path()</a> will take precedence.</p>
<p>If not set the underlying implementation default will be used. for a client.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sasl</td><td>the SASL layer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>the configuration path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaecd3b1f55fc81c6586bc435772f829d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN void pn_sasl_done </td>
          <td>(</td>
          <td class="paramtype">pn_sasl_t *&#160;</td>
          <td class="paramname"><em>sasl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sasl.html#gad44e79f52e0669b1930689b56dfa9c3b">pn_sasl_outcome_t</a>&#160;</td>
          <td class="paramname"><em>outcome</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the outcome of SASL negotiation</p>
<p>Used by the server to set the result of the negotiation process.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="ga8ab2ab1ca7ed8a476fbf01e742425f3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN bool pn_sasl_extended </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do we support extended SASL negotiation</p>
<p>Do we support extended SASL negotiation? All implementations of Proton support ANONYMOUS and EXTERNAL on both client and server sides and PLAIN on the client side.</p>
<p>Extended SASL implememtations use an external library (Cyrus SASL) to support other mechanisms beyond these basic ones.</p>
<dl class="section return"><dt>Returns</dt><dd>true if we support extended SASL negotiation, false if we only support basic negotiation. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4f18db720611136dd7d6798b8bfbc94c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN bool pn_sasl_get_allow_insecure_mechs </td>
          <td>(</td>
          <td class="paramtype">pn_sasl_t *&#160;</td>
          <td class="paramname"><em>sasl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current value for allow_insecure_mechs</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sasl</td><td>the SASL layer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga77adf112018a4b457df4abbf5b31873b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN const char* pn_sasl_get_mech </td>
          <td>(</td>
          <td class="paramtype">pn_sasl_t *&#160;</td>
          <td class="paramname"><em>sasl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the selected SASL mechanism</p>
<p>The returned value is only reliable after the PN_TRANSPORT_AUTHENTICATED event has been received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sasl</td><td>the SASL layer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The authentication mechanism selected by the SASL layer </dd></dl>

</div>
</div>
<a class="anchor" id="gafff63feb3a2eccd74f7b472ee235a886"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN const char* pn_sasl_get_user </td>
          <td>(</td>
          <td class="paramtype">pn_sasl_t *&#160;</td>
          <td class="paramname"><em>sasl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the authenticated user</p>
<p>This is usually used at the the server end to find the name of the authenticated user. On the client it will merely return whatever user was passed in to the pn_transport_set_user_password() API.</p>
<p>If <a class="el" href="group__sasl.html#gaec4ace7d77037c60f1df02f2bb0be0f8">pn_sasl_outcome()</a> returns a value other than PN_SASL_OK, then there will be no user to return. The returned value is only reliable after the PN_TRANSPORT_AUTHENTICATED event has been received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sasl</td><td>the sasl layer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the SASL layer was not negotiated then 0 is returned If the ANONYMOUS mechanism is used then the user will be "anonymous" Otherwise a string containing the user is returned. </dd></dl>

</div>
</div>
<a class="anchor" id="gaec4ace7d77037c60f1df02f2bb0be0f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN <a class="el" href="group__sasl.html#gad44e79f52e0669b1930689b56dfa9c3b">pn_sasl_outcome_t</a> pn_sasl_outcome </td>
          <td>(</td>
          <td class="paramtype">pn_sasl_t *&#160;</td>
          <td class="paramname"><em>sasl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the outcome of SASL negotiation.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="ga841eea7a3e34539aa6176ebc055cdc16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PN_EXTERN void pn_sasl_set_allow_insecure_mechs </td>
          <td>(</td>
          <td class="paramtype">pn_sasl_t *&#160;</td>
          <td class="paramname"><em>sasl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>insecure</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Boolean to allow use of clear text authentication mechanisms</p>
<p>By default the SASL layer is configured not to allow mechanisms that disclose the clear text of the password over an unencrypted AMQP connection. This specifically will disallow the use of the PLAIN mechanism without using SSL encryption.</p>
<p>This default is to avoid disclosing password information accidentally over an insecure network.</p>
<p>If you actually wish to use a clear text password unencrypted then you can use this API to set allow_insecure_mechs to true.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sasl</td><td>the SASL layer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">insecure</td><td>set this to true to allow unencrypted PLAIN authentication. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
